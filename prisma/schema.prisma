generator client {
  provider = "prisma-client-js"
  previewFeatures = ["deno"]
  output = "../generated/client"
  binaryTargets = ["native", "darwin", "darwin-arm64", "linux-musl-openssl-3.0.x", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Question {
  id           String   @id @default(uuid())
  category     String
  text         String
  options      String   // Stored as JSON string
  correctIndex Int
  createdAt    DateTime @default(now())
}

model User {
  id           String   @id @default(uuid())
  username     String   @unique
  passwordHash String
  role         String   @default("USER") // "ADMIN", "SUPERUSER"
  createdAt    DateTime @default(now())
}

model ExamResult {
  id             String   @id @default(uuid())
  userId         String
  category       String
  score          Int
  totalQuestions Int
  correctAnswers Int
  timeTaken      Int
  timestamp      DateTime @default(now())
}
